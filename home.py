import streamlit as st
from pydantic import BaseModel
from pages import DiagonosisApp, HospitalApp

from login_register_utils.logins import LoginData
from streamlit_js_eval import get_geolocation

import pandas as pd

class UserCredentials(BaseModel):
    username: str
    password: str
    role: str

def authenticate_user(credentials: UserCredentials, login: LoginData):
    df = login.check_login(usr=credentials.username, pwd=credentials.password, role=credentials.role)
    if df is not None and len(df) > 0:  # ensure df is not None before checking its length
        return df
    else:
        return None


def set_user_session(df:pd.DataFrame):
    if 'user_data' not in st.session_state:
        temp = {x:df[x].tolist()[0] for x in df.columns}
        st.session_state['user_data'] = temp


if __name__ == "__main__":

    st.set_page_config(
        page_title="Med4PAN",
        initial_sidebar_state="collapsed",
        page_icon="ðŸ‘‹",
    )
    st.markdown(
        """
    <style>
        [data-testid="collapsedControl"] {
            display: none
        }
    </style>
    """,
        unsafe_allow_html=True,
    )
    st.title("Med4PAN Emergency Car Service")
    st.markdown("Car Service for Medical Emergency")

    login_data = LoginData("data/register.csv")

    col1, col2 = st.columns(2)

    with col1:
        image = "data:image/jpeg;base64,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"
        st.image(image, caption='Emergency Medical Service over 5G', use_column_width=True)

    with col2:
        role = st.selectbox(
            "Role",
            ("User", "Medical Professional")
        )
        username = st.text_input("Username")
        password = st.text_input("Password", type="password")
        with st.container():
            col3, col4 = st.columns(2)
            with col3:
                if st.button("Login", use_container_width=True):
                    credentials = UserCredentials(username=username, password=password, role=role)
                    df = authenticate_user(credentials, login_data)
                    if df is not None:  # additional None check here
                        # now we know df is not None and we can safely access its properties
                        if df.role.tolist()[0] == "User":
                            set_user_session(df=df)
                            st.switch_page("pages/DiagonosisApp.py")
                        elif df.role.tolist()[0] == "Medical Professional":
                            set_user_session(df=df)
                            st.switch_page("pages/HospitalApp.py")

                    else:
                        st.error("Invalid username or password. Please try again.")

            with col4:
                if st.button("Register", use_container_width=True):
                    st.switch_page("pages/Signup.py")